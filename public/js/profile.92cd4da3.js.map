{"version":3,"sources":["webpack:///./src/views/Profile.vue?82bb","webpack:///./src/views/Profile.vue","webpack:///./src/services/user/index.js","webpack:///src/views/Profile.vue","webpack:///./src/views/Profile.vue?af0a","webpack:///./src/views/Profile.vue?c159"],"names":["render","_vm","this","_c","_self","staticClass","_v","_s","name","userSecret","secretCreated","message","_e","secret","attrs","on","$event","wroteDown","staticRenderFns","SET_USER_WORDS_URL","process","BACKEND_BASE_URL","setUserSecretWords","async","token","words","body","headers","res","postRequest","console","log","data","code","error","undefined","computed","email","created","methods","component"],"mappings":"yGAAA,W,kECAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACF,EAAIK,GAAG,WAAWL,EAAIM,GAAGN,EAAIO,SAAWP,EAAIQ,YAAeR,EAAIS,cAA8RT,EAAIS,cAAeP,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIU,cAAcV,EAAIW,KAAzVT,EAAG,MAAM,CAACA,EAAG,KAAK,CAACF,EAAIK,GAAG,kDAAkDH,EAAG,MAAM,CAACF,EAAIK,GAAGL,EAAIM,GAAGN,EAAIY,aAAaV,EAAG,SAAS,CAACE,YAAY,aAAaS,MAAM,CAAC,KAAO,UAAUC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOf,EAAIgB,eAAe,CAAChB,EAAIK,GAAG,+BAE1aY,EAAkB,G,oCCAtB,MAAMC,EAAqBC,0FAAYC,iBAAmB,mBAEpDC,EAAqBC,MAAOC,EAAOC,KACrC,IACI,MAAMC,EAAM,CACRD,MAAOA,GAELE,EAAU,CACZ,cAAkB,OAAMH,GAGtBI,QAAYC,eAAYV,EAAoBO,EAAMC,GAExD,OADAG,QAAQC,IAAI,QAASH,GACd,CAAEI,KAAMJ,EAAII,KAAMC,KAAM,IAAKtB,QAAS,MAC/C,MAAOuB,GAEL,OADAJ,QAAQC,IAAI,UAAWG,GAChB,CAAEF,UAAMG,EAAWF,KAAM,IAAKtB,QAASuB,EAAMvB,WCI7C,OACfyB,yBACAC,4BACA7B,+BACAC,wCAEAuB,OACA,OACAnB,UACAF,WACAD,mBAQA4B,UACA,+BAEAC,SACA,kBACAT,iCACA,gBACA,2DACA,eACA,aACAA,wBACA,uEACA,wBAGAA,uCACA,0ECxDiV,I,wBCQ7UU,EAAY,eACd,EACAxC,EACAkB,GACA,EACA,KACA,WACA,MAIa,aAAAsB,E","file":"js/profile.92cd4da3.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=style&index=0&id=6c826dd9&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile\"},[_c('h1',[_vm._v(\"Welcome \"+_vm._s(_vm.name))]),(!_vm.userSecret && !_vm.secretCreated)?_c('div',[_c('h3',[_vm._v(\" Here are your secret words, shown only once. \"),_c('pre',[_vm._v(_vm._s(_vm.secret))])]),_c('button',{staticClass:\"red-button\",attrs:{\"name\":\"button\"},on:{\"click\":function($event){return _vm.wroteDown()}}},[_vm._v(\" I wrote them down. \")])]):(_vm.secretCreated)?_c('div',[_c('h3',[_vm._v(_vm._s(_vm.message))])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { postRequest } from \"../http\";\n\nconst SET_USER_WORDS_URL = process.env.BACKEND_BASE_URL + \"/api/users/words\"\n\nconst setUserSecretWords = async (token, words) => {\n    try {\n        const body ={\n            words: words,\n        }\n        const headers = {\n            'Authorization': `JWT ${token}`\n        }\n\n        const res = await postRequest(SET_USER_WORDS_URL, body, headers)\n        console.log(\"res: \", res)\n        return { data: res.data, code: 200, message: \"OK\" }\n    } catch (error) {\n        console.log(\"error: \", error)\n        return { data: undefined, code: 400, message: error.message }\n    }\n}\n\nexport {setUserSecretWords}","<template>\n\t<div class=\"profile\">\n\t\t<!-- {{ pUser }} -->\n\t\t<h1>Welcome {{ name }}</h1>\n\t\t<div v-if=\"!userSecret && !secretCreated\">\n\t\t\t<h3>\n\t\t\t\tHere are your secret words, shown only once.\n\t\t\t\t<pre>{{secret}}</pre>\n\t\t\t</h3>\n\t\t\t<button @click=\"wroteDown()\" name=\"button\" class=\"red-button\">\n\t\t\t\tI wrote them down.\n\t\t\t</button>\n\t\t</div>\n\t\t<div v-else-if=\"secretCreated\">\n\t\t\t<h3>{{ message }}</h3>\n\t\t</div>\n\t</div>\n</template>\n<script>\nimport { mapState } from 'vuex'\nimport {generateRandomWords} from '../services/auth/index'\nimport {setUserSecretWords} from '../services/user/index'\nexport default {\n\tcomputed: mapState({\n\t\temail: (state) => state.pUser.user.email,\n\t\tname: (state) => state.pUser.user.firstName,\n\t\tuserSecret: (state) => state.pUser.user.userSecret,\n\t}),\n\tdata() {\n\t\treturn {\n\t\t\tsecret: \"\",\n\t\t\tmessage: \"\",\n\t\t\tsecretCreated: false\n\t\t}\n\t},\n\t// computed: {\n\t// \tuser(){\n\t// \t\treturn this.$store.state.pUser;\n\t// \t}\n\t// },\n\tcreated() {\n\t\tthis.secret = generateRandomWords(4)\n\t},\t\n\tmethods: {\n\t\tasync wroteDown(){\n\t\t\tconsole.log(\"wrote down called\")\n\t\t\tthis.setting = true\n\t\t\tconst res = await setUserSecretWords(this.$store.state.pUser.token, this.secret)\n\t\t\tthis.secret = ''\n\t\t\tif(res.code == 200){\n\t\t\t\tconsole.log(\"all good\")\n\t\t\t\tthis.message = 'Your secret words have been saved. You can now log out.'\n\t\t\t\tthis.secretCreated=true\n\t\t\t} \n\t\t\telse {\n\t\t\t\tconsole.log(\"fail | error:\", res.message)\n\t\t\t\tthis.message = 'Something went wrong, please contact admin@redcurry.co'\n\t\t\t}\n\t\t}\n\t}\n}\n</script>\n<style scoped>\nh3 {\n\tmargin: 20px 0 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=6c826dd9&scoped=true&\"\nimport script from \"./Profile.vue?vue&type=script&lang=js&\"\nexport * from \"./Profile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Profile.vue?vue&type=style&index=0&id=6c826dd9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6c826dd9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}